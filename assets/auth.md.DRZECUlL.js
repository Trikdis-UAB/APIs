import{_ as a,c as s,o as i,ag as t}from"./chunks/framework.B-XtCDNB.js";const c=JSON.parse('{"title":"Authentication","description":"","frontmatter":{},"headers":[],"relativePath":"auth.md","filePath":"auth.md"}'),n={name:"auth.md"};function o(r,e,h,l,p,d){return i(),s("div",null,[...e[0]||(e[0]=[t(`<h1 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">â€‹</a></h1><p>The IPCom API uses JWT (JSON Web Token) authentication. You need to first login to obtain a JWT token, then include it in the Authorization header of every request.</p><h2 id="getting-your-jwt-token" tabindex="-1">Getting Your JWT Token <a class="header-anchor" href="#getting-your-jwt-token" aria-label="Permalink to &quot;Getting Your JWT Token&quot;">â€‹</a></h2><p>To obtain a JWT token, use the login endpoint:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://your-server-ip:port/api/login&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       &quot;username&quot;: &quot;your_username&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       &quot;password&quot;: &quot;your_password&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       &quot;api_key&quot;: &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     }&#39;</span></span></code></pre></div><p>Response:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;token&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Your Display Name&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>For detailed information about the login process, see the <a href="/api/login.html">Login API documentation</a>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Keep your API token secure! Never share it publicly or commit it to version control.</p></div><h2 id="using-your-jwt-token" tabindex="-1">Using Your JWT Token <a class="header-anchor" href="#using-your-jwt-token" aria-label="Permalink to &quot;Using Your JWT Token&quot;">â€‹</a></h2><p>Include your JWT token in the <code>Authorization</code> header:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GET</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://your-server-ip:port/api/users&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Authorization: Bearer YOUR_JWT_TOKEN&quot;</span></span></code></pre></div><h2 id="jwt-token-claims" tabindex="-1">JWT Token Claims <a class="header-anchor" href="#jwt-token-claims" aria-label="Permalink to &quot;JWT Token Claims&quot;">â€‹</a></h2><p>JWT tokens contain claims that determine what actions they can perform:</p><table tabindex="0"><thead><tr><th>Claim</th><th>Description</th></tr></thead><tbody><tr><td><code>username</code></td><td>The authenticated user&#39;s username</td></tr><tr><td><code>scopes</code></td><td>Array of permissions/scopes for the user</td></tr></tbody></table><h2 id="token-expiration" tabindex="-1">Token Expiration <a class="header-anchor" href="#token-expiration" aria-label="Permalink to &quot;Token Expiration&quot;">â€‹</a></h2><ul><li>JWT tokens have an expiration time that can be configured per user</li><li>Each user can have a different token lifetime based on their role and security requirements</li><li>You&#39;ll need to re-authenticate when tokens expire</li><li>Expired tokens will return a <code>401 Unauthorized</code> response</li></ul><blockquote><p><strong>ðŸ“– Configuration</strong>: Token expiration times are set in the <code>token_time</code> field (in minutes) for each user. See the <a href="/configuration.html#users-management">Users Management Configuration</a> for details on configuring user-specific token lifetimes.</p></blockquote><h2 id="error-responses" tabindex="-1">Error Responses <a class="header-anchor" href="#error-responses" aria-label="Permalink to &quot;Error Responses&quot;">â€‹</a></h2><p>Authentication errors return specific status codes with plain text messages:</p><h3 id="_400-bad-request" tabindex="-1">400 Bad Request <a class="header-anchor" href="#_400-bad-request" aria-label="Permalink to &quot;400 Bad Request&quot;">â€‹</a></h3><p>Missing required fields</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>LOG_ON_DATA_INCOMPLETE</span></span></code></pre></div><h3 id="_401-unauthorized" tabindex="-1">401 Unauthorized <a class="header-anchor" href="#_401-unauthorized" aria-label="Permalink to &quot;401 Unauthorized&quot;">â€‹</a></h3><p>Invalid credentials</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>FAIL</span></span></code></pre></div><h3 id="_403-forbidden" tabindex="-1">403 Forbidden <a class="header-anchor" href="#_403-forbidden" aria-label="Permalink to &quot;403 Forbidden&quot;">â€‹</a></h3><p>API key used but feature not licensed</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>API feature not licensed</span></span></code></pre></div>`,29)])])}const k=a(n,[["render",o]]);export{c as __pageData,k as default};
